{"version":3,"file":"static/js/993.15d66c83.chunk.js","mappings":"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","sources":["pages/Profile/ProfileDetails/ProfileDetails.js","pages/Profile/MyMovies/MyMovies.js","pages/Profile/Profile.js"],"sourcesContent":["import { useEffect, useState} from 'react'; \r\nimport LoadingButton from '../../../components/UI/LoadingButton/LoadingButton';\r\nimport { validateEmail } from '../../../helpers/validations';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport axios from '../../../axios-auth';\r\n\r\nexport default function ProfileDetails(props) {\r\n  const [auth, setAuth] = useAuth();\r\n  const [email, setEmail] = useState(auth.email);\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const [success, setSuccess] = useState(false);\r\n  const buttonDisabled = Object.values(errors).filter(x => x).length;\r\n  \r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const data = {\r\n        idToken: auth.token,\r\n        email: email,\r\n        returnSecureToken: true\r\n      };\r\n      if (password) {\r\n        data.password = password;\r\n      }\r\n\r\n      const res = await axios.post('accounts:update', data);\r\n\r\n      setAuth({\r\n        email: res.data.email,\r\n        token: res.data.idToken,\r\n        userId: res.data.localId,\r\n      });\r\n      setSuccess(true);\r\n    } catch (ex) {\r\n      console.log(ex.response);\r\n    }\r\n  \r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (validateEmail(email)) {\r\n      setErrors({...errors, email: ''});\r\n    } else {\r\n      setErrors({...errors, email: 'Niepoprawny email'});\r\n    }\r\n  }, [email]);\r\n\r\n  useEffect(() => {\r\n    if (password.length >= 4 || !password) {\r\n      setErrors({...errors, password: ''});\r\n    } else {\r\n      setErrors({...errors, password: 'Wymagane 4 znaki'});\r\n    }\r\n  }, [password]);\r\n\r\n  return (\r\n    <form onSubmit={submit}>\r\n\r\n        {success ? (\r\n          <div className=\"alert alert-success\">Dane zapisane</div>\r\n        ) : null}\r\n        \r\n        <div className=\"form-group\">\r\n          <label>Email</label>\r\n          <input \r\n            type=\"email\" \r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            className={`form-control ${errors.email ? 'is-invalid' : 'is-valid'}`} />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.email}\r\n          </div>\r\n          <div className=\"valid-feedback\">\r\n            Wszystko gra!\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Hasło</label>\r\n          <input \r\n            type=\"password\" \r\n            value={password} \r\n            onChange={e => setPassword(e.target.value)} \r\n            className={`form-control ${errors.password ? 'is-invalid' : ''}`} />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.password}\r\n          </div>\r\n        </div>\r\n        <LoadingButton \r\n          loading={loading} \r\n          disabled={buttonDisabled} >Zapisz</LoadingButton>\r\n      </form>\r\n  );\r\n}","import { useEffect, useState, useContext } from 'react'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport axios from '../../../axios'\r\nimport { objectToArrayWithId } from '../../../helpers/objects'\r\nimport useAuth from '../../../hooks/useAuth'\r\nimport ThemeContext from '../../../context/themeContext'\r\nexport default function MyMovies(props) {\r\n\tconst [auth] = useAuth()\r\n\tconst { url } = useRouteMatch()\r\n\tconst [movies, setMovies] = useState([])\r\n\r\n\tconst theme = useContext(ThemeContext)\r\n\r\n\tconst fetchMovies = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get('/movies.json')\r\n\t\t\tconst newMovie = objectToArrayWithId(res.data).filter(movie => movie.user_id === auth.userId)\r\n\t\t\tsetMovies(newMovie)\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.log(ex.response)\r\n\t\t}\r\n\t}\r\n\r\n\tconst deleteHandler = async id => {\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/movies/${id}.json?auth=${auth.token}`)\r\n\t\t\tsetMovies(movies.filter(x => x.id !== id))\r\n\t\t} catch (ex) {\r\n\t\t\tconsole.log(ex.response)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchMovies()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{movies ? (\r\n\t\t\t\t<table className='table'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Nazwa</th>\r\n\t\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t\t<th>Opcje</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{movies.map(movie => (\r\n\t\t\t\t\t\t\t<tr key={movie.id}>\r\n\t\t\t\t\t\t\t\t<td>{movie.name}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{movie.status == 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t<span className='badge bg-success text-light'>Dostępny</span>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span className='badge bg-secondary text-light'>Niedostępny</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<Link to={`/profil/filmy/edytuj/${movie.id}`} className='btn btn-warning'>\r\n\t\t\t\t\t\t\t\t\t\tEdytuj\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button onClick={() => deleteHandler(movie.id)} className='ml-2 btn btn-danger'>\r\n\t\t\t\t\t\t\t\t\t\tUsuń\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t) : (\r\n\t\t\t\t<p>Nie masz jeszcze żadnego filmu.</p>\r\n\t\t\t)}\r\n\t\t\t<Link to={`${url}/dodaj`} className={`ml-1 btn btn-${theme.color}`}>\r\n\t\t\t\tDodaj film\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { Switch, Route, NavLink, useRouteMatch } from 'react-router-dom'\r\nimport ProfileDetails from './ProfileDetails/ProfileDetails'\r\nimport MyMovies from './MyMovies/MyMovies'\r\n\r\nexport default function Profile(props) {\r\n\tconst { path, url } = useRouteMatch()\r\n\r\n\treturn (\r\n\t\t<div className='card'>\r\n\t\t\t<div className='card-header'>\r\n\t\t\t\t<h2>Mój profil</h2>\r\n\t\t\t</div>\r\n\t\t\t<div className='card-body'>\r\n\t\t\t\t<ul className='nav nav-tabs'>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<NavLink className='nav-link' exact to={`${url}`}>\r\n\t\t\t\t\t\t\tProfil\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<NavLink className='nav-link' to={`${url}/filmy`}>\r\n\t\t\t\t\t\t\tTwoje Filmy\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<div className='pt-4'>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path={`${path}/filmy`} component={MyMovies} />\r\n\t\t\t\t\t\t<Route path={`${path}`} component={ProfileDetails} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n"],"names":["ProfileDetails","props","_useAuth","useAuth","_useAuth2","_slicedToArray","auth","setAuth","_useState","useState","email","_useState2","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","errors","setErrors","_useState9","_useState10","success","setSuccess","buttonDisabled","Object","values","filter","x","length","submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","data","res","wrap","_context","prev","next","preventDefault","idToken","token","returnSecureToken","axios","post","sent","userId","localId","t0","console","log","response","stop","_x","apply","arguments","useEffect","validateEmail","_objectSpread","_jsxs","onSubmit","children","_jsx","className","type","value","onChange","target","concat","LoadingButton","disabled","MyMovies","url","useRouteMatch","movies","setMovies","theme","useContext","ThemeContext","fetchMovies","newMovie","get","objectToArrayWithId","movie","user_id","deleteHandler","_ref2","_callee2","id","_context2","delete","map","name","status","Link","to","onClick","color","Profile","_useRouteMatch","path","NavLink","exact","Switch","Route","component"],"sourceRoot":""}